<!DOCTYPE html>
<html lang="ja">

<head>
    <link rel="icon" href="/favicon.ico">
    <meta charset="UTF-8">
    <title>生徒情報詳細</title>
    <link rel="stylesheet" href="/styles.css">
    <style>
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }

        .info-card {
            background: #f7f8fa;
            padding: 20px;
            border-radius: 8px;
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-day {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: center;
            min-height: 60px;
        }

        .calendar-day.header {
            font-weight: bold;
        }

        .calendar-day.attended {
            background-color: #d4edda;
        }

        .calendar-day.multiple {
            background-color: #c3e6cb;
            font-weight: bold;
        }

        .history-item {
            border-bottom: 1px solid #eee;
            padding: 10px 0;
        }

        .calendar-day.scheduled {
            background-color: #e2e3e5;
        }

        /* 予定あり */
        .calendar-day.attended {
            background-color: #d4edda;
            border-color: #c3e6cb;
        }

        /* 出席済み */
        .calendar-day.multiple {
            background-color: #a3d9a5;
            font-weight: bold;
        }

        /* 複数回出席 */
        .calendar-day {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: flex-start;
        }

        .day-number {
            font-weight: bold;
            align-self: flex-start;
        }

        .day-slots {
            font-size: 11px;
            margin-top: 4px;
            text-align: left;
            line-height: 1.2;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 id="student-name">読み込み中...</h1>
        <p><a href="/users.html">ユーザー管理へ戻る</a></p>

        <div class="info-grid">
            <div class="info-card">
                <h2>プロフィール</h2>
                <p><strong>ID:</strong> <span id="profile-id"></span></p>
                <p><strong>級:</strong> <span id="profile-level"></span></p>
                <p><strong>メール:</strong> <span id="profile-email"></span></p>
                <p><strong>PC:</strong> <span id="profile-pc"></span></p>
            </div>
            <div class="info-card">
                <h2>次回の出席予定</h2>
                <p id="next-schedule">予定を取得中...</p>
                <h2>備考</h2>
                <p id="notes-history">履歴はありません。</p>
            </div>
        </div>

        <div class="form-container">
            <h2>出席カレンダー</h2>
            <div class="calendar-nav">
                <button id="prev-month">&lt; 前の月</button>
                <span id="month-name"></span>
                <button id="next-month">次の月 &gt;</button>
            </div>
            <div class="calendar">
            </div>
        </div>

        <div class="table-container">
            <h2>全スケジュール履歴 (欠席・振替含む)</h2>
            <div id="schedule-history-list"></div>
        </div>
    </div>
    <script src="/info.js"></script>
</body>

</html>